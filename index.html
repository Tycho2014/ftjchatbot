<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <title>FTJ Chatbot AI</title>
  <style>
    #chat { margin-top: 2em; }
    .user { color: blue; }
    .ai { color: green; }
  </style>
</head>
<body>
  <input type="text" id="userInput" placeholder="Typ je vraag...">
  <button onclick="sendMessage()">Versturen</button>
  <div id="chat"></div>

  <script>
    async function sendMessage() {
      const input = document.getElementById('userInput').value;
      const chat = document.getElementById('chat');
      chat.innerHTML += `<div class="user"><b>Jij:</b> ${input}</div>`;

      // 1. Zoek op het web (voorbeeld Bing)
      const webResult = await fetch('https://api.bing.microsoft.com/v7.0/search?q=' + encodeURIComponent(input), {
        headers: { 'Ocp-Apim-Subscription-Key': 'JOUW_BING_API_KEY' }
      }).then(r => r.json()).catch(() => null);

      let webText = '';
      if (webResult && webResult.webPages && webResult.webPages.value.length > 0) {
        webText = webResult.webPages.value.map(v => v.snippet).join(' ');
      }

      // 2. Stuur prompt + webresultaat naar je AI tekstgenerator
      const aiResponse = await fetch('https://jouw-ai-api-endpoint.com/generate', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': 'Bearer 0c8f8ba5f237466084873422c2415350' // Jouw API-key
        },
        body: JSON.stringify({
          prompt: input + "\nWeb resultaten: " + webText
        })
      }).then(r => r.json());

      chat.innerHTML += `<div class="ai"><b>AI:</b> ${aiResponse.text}</div>`;
    }
  </script>
</body>
</html>
